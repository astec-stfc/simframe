settingsFilename: /home/xkc85723/Documents/venv/lib/python3.12/site-packages/MasterLattice/Lattices/clara400_v13.def
groups:
  bunch_compressor:
    type: chicane
    elements:
    - CLA-VBC-MAG-DIP-01
    - CLA-VBC-MAG-DIP-02
    - CLA-VBC-MAG-DIP-03
    - CLA-VBC-MAG-DIP-04
  modulator1_chicane:
    type: chicane
    elements:
    - CLA-FMS-DIP-01
    - CLA-FMS-DIP-02
    - CLA-FMS-DIP-03
    - CLA-FMS-DIP-04
  modulator2_chicane:
    type: s_chicane
    elements:
    - CLA-FMS-DIP-05
    - CLA-FMS-DIP-06
    - CLA-FMS-DIP-07
    - CLA-FMS-DIP-08
generator:
  default: clara_400_3ps
global:
  SC_2D_Nrad: 30
  SC_2D_Nlong: 45
  SC_3D_Nxf: 8
  SC_3D_Nyf: 8
  SC_3D_Nzf: 8
  accuracy: 6
  initial_distribution: ../1k-250pC-76fsrms-1mm_TE09fixN12.ini
  ASTRAsettings:
    High_res: true
    N_red: 1
    EmitS: true
    PhaseS: true
    TrackS: true
    RefS: true
    Track_All: true
    Phase_Scan: false
    Auto_Phase: true
    check_ref_part: false
    Zphase: 1
    Zemit: 1050
    H_max: 0.0007
    H_min: 0.0007
    title: trial
    run_no: 1
    Smooth_x: 2
    Smooth_y: 2
    Smooth_z: 2
    Max_scale: 0.1
    Max_count: 100
    cell_var: 2
    min_grid: 3.424657e-13
    Lmagnetized: false
elements:
  filename: lattice.yaml
files:
  injector400:
    code: ASTRA
    charge:
      cathode: true
      space_charge_mode: 2D
      mirror_charge: true
    input:
      particle_definition: initial_distribution
    output:
      zstart: 0
      end_element: CLA-S02-SIM-APER-01
  S02:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    output:
      start_element: CLA-S02-SIM-APER-01
      end_element: CLA-L02-SIM-APER-01
    input: {}
  L02:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    output:
      start_element: CLA-L02-SIM-APER-01
      end_element: CLA-S03-SIM-APER-01
    input: {}
  S03:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    input: {}
    output:
      start_element: CLA-S03-SIM-APER-01
      end_element: CLA-L03-SIM-APER-01
  L03:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    input: {}
    output:
      start_element: CLA-L03-SIM-APER-01
      end_element: CLA-S04-SIM-APER-01
  S04:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    input: {}
    output:
      start_element: CLA-S04-SIM-APER-01
      end_element: CLA-L4H-SIM-APER-01
  L4H:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    input: {}
    output:
      start_element: CLA-L4H-SIM-APER-01
      end_element: CLA-S05-SIM-APER-01
  S05:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    input: {}
    output:
      start_element: CLA-S05-SIM-APER-01
      end_element: CLA-S05-SIM-MARK-01
  VBC:
    code: csrtrack
    charge:
      cathode: false
      space_charge_mode: 3D
    csr:
      csr_mode: 1D
    input: {}
    output:
      start_element: CLA-S05-SIM-MARK-01
      end_element: CLA-S06-SIM-MARK-01
    groups:
      bunch_compressor:
        dipoleangle: 0.1185
        width: 0.2
        gap: 0.02
  S06:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    input: {}
    output:
      start_element: CLA-S06-SIM-MARK-01
      end_element: CLA-L04-SIM-APER-01
  L04:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    input: {}
    output:
      start_element: CLA-L04-SIM-APER-01
      end_element: CLA-S07-SIM-APER-01
  S07:
    code: ASTRA
    charge:
      cathode: false
      space_charge_mode: 3D
    input: {}
    output:
      start_element: CLA-S07-SIM-APER-01
      end_element: CLA-FMS-SIM-APER-01
